# MySQL Sysbench 性能测试综合报告

## 摘要

本报告汇总了在 5 个不同环境下进行的 MySQL 性能测试结果，使用 sysbench 工具结合 tsar 监控进行全面的性能评估。测试涵盖了 IDC 机房、华为云和阿里云三种部署环境，以及不同的 MySQL 事务提交配置（innodb_flush_log_at_trx_commit=1/2）。

### 测试环境概览
- **IDC 环境**: Intel Xeon Silver 4510 (48核)，376GB内存，1M行数据
- **华为云环境**: Intel Xeon Silver 4510 (48核)，376GB内存，1M行数据  
- **阿里云环境**: Intel Xeon 6982P-C (8核)，30GB内存，10M行数据

### 测试场景
- **oltp_point_select**: 点查询测试
- **oltp_read_only**: 只读事务测试
- **oltp_read_write**: 读写混合事务测试
- **oltp_write_only**: 只写事务测试

## 数据总结与结论

### 关键性能指标对比

| 环境 | 最高QPS | 最高TPS | 事务提交模式 | 硬件配置 |
|------|---------|---------|-------------|----------|
| IDC | 318,015 | 21,184 | trx_commit=2 | 48核/376GB |
| IDC.trx1 | 316,759 | 19,921 | trx_commit=1 | 48核/376GB |
| 华为云 | 196,844 | 16,764 | trx_commit=2 | 48核/376GB |
| 阿里云 | 328,098 | 20,231 | trx_commit=2 | 8核/30GB |
| 阿里云.trx1 | 326,549 | 17,592 | trx_commit=1 | 8核/30GB |

### 主要发现

1. **环境性能排序**: IDC ≈ 阿里云 > 华为云
   - IDC 和阿里云环境表现相近，最高 QPS 均超过 31万
   - 华为云环境性能相对较低，最高 QPS 约 19.7万

2. **事务提交模式影响**:
   - `innodb_flush_log_at_trx_commit=2` 比 `=1` 性能更优
   - 写入密集场景下，trx_commit=2 的 TPS 提升约 6-15%

3. **硬件资源利用**:
   - 阿里云环境虽然硬件配置较低（8核 vs 48核），但单核性能表现优异
   - CPU 利用率在高并发下普遍较低（<15%），表明存在其他瓶颈

4. **并发扩展性**:
   - 点查询场景：32-64 并发时达到性能峰值
   - 写入场景：128 并发时仍能保持良好性能
   - 延迟控制：高并发下 95% 延迟仍保持在合理范围

### 性能优化建议

1. **配置优化**: 生产环境建议使用 `innodb_flush_log_at_trx_commit=2` 以获得更好的写入性能
2. **并发控制**: 根据测试结果，32-64 并发连接数为最佳性能区间
3. **环境选择**: IDC 和阿里云环境性能表现优异，可作为高性能部署的首选

---

## 详细测试结果

## 1. idc

**测试时间**: 2025-11-23 19:09:42  
**测试工具**: sysbench + tsar (按时间段精确匹配)  
**tsar数据样本**: 1310 条记录  

### 测试配置信息

```
=== 测试配置信息 ===
MYSQL_HOST: 10.9.10.145
MYSQL_PORT: 3306
TABLES: 16
TABLE_SIZE: 1000000
TEST_TIME: 30
```

### MySQL配置参数

```
mysql: [Warning] Using a password on the command line interface can be insecure.
Variable_name	Value
innodb_buffer_pool_size	17179869184
innodb_flush_log_at_trx_commit	2
```

### 压测服务器配置

```
=== CPU 信息 ===
Architecture:          x86_64
CPU op-mode(s):        32-bit, 64-bit
Byte Order:            Little Endian
CPU(s):                48
On-line CPU(s) list:   0-47
Thread(s) per core:    2
Core(s) per socket:    12
座：                 2
NUMA 节点：         2
厂商 ID：           GenuineIntel
CPU 系列：          6
型号：              143
型号名称：        INTEL(R) XEON(R) SILVER 4510
步进：              8
CPU MHz：             2400.000
BogoMIPS：            4800.00
虚拟化：           VT-x
L1d 缓存：          48K
L1i 缓存：          32K
L2 缓存：           2048K
L3 缓存：           30720K
NUMA 节点0 CPU：    0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46
NUMA 节点1 CPU：    1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47

=== 内存信息 ===
              total        used        free      shared  buff/cache   available
Mem:           376G         29G        342G        2.3G        4.6G        343G
Swap:            0B          0B          0B
```

### 性能测试结果汇总 (含CPU/IO监控数据)

| 测试场景 | 并发数 | QPS | TPS | 平均延迟(ms) | 95%延迟(ms) | CPU利用率(%) | CPU用户(%) | CPU系统(%) | CPU等待(%) | IO利用率(%) | 监控样本数 | 测试时间段 |
|---------|--------|-----|-----|-------------|-------------|-------------|------------|------------|------------|-------------|------------|------------|
| oltp_point_select | 1 | 33,572 | 33,572 | 0.03 | 0.03 | 0.0 | 0.7 | 0.5 | 0.0 | 0.0 | 31 | 2025-11-23 18:56:52 ~ 2025-11-23 18:57:22 |
| oltp_point_select | 8 | 186,824 | 186,824 | 0.04 | 0.05 | 0.3 | 4.9 | 3.2 | 0.0 | 0.0 | 31 | 2025-11-23 18:57:24 ~ 2025-11-23 18:57:54 |
| oltp_point_select | 16 | 269,096 | 269,096 | 0.06 | 0.09 | 0.7 | 7.9 | 4.7 | 0.0 | 0.0 | 31 | 2025-11-23 18:57:56 ~ 2025-11-23 18:58:26 |
| oltp_point_select | 32 | 318,015 | 318,015 | 0.10 | 0.16 | 0.8 | 10.3 | 5.9 | 0.0 | 0.0 | 31 | 2025-11-23 18:58:28 ~ 2025-11-23 18:58:58 |
| oltp_point_select | 64 | 307,471 | 307,471 | 0.21 | 0.28 | 0.8 | 10.4 | 5.8 | 0.0 | 0.0 | 31 | 2025-11-23 18:59:00 ~ 2025-11-23 18:59:30 |
| oltp_point_select | 128 | 289,999 | 289,999 | 0.44 | 0.58 | 0.9 | 10.5 | 5.7 | 0.0 | 0.0 | 31 | 2025-11-23 18:59:32 ~ 2025-11-23 19:00:02 |
| oltp_read_only | 1 | 12,542 | 784 | 1.28 | 1.32 | 0.0 | 1.4 | 0.3 | 0.0 | 0.0 | 31 | 2025-11-23 19:00:04 ~ 2025-11-23 19:00:34 |
| oltp_read_only | 8 | 55,531 | 3,471 | 2.30 | 3.55 | 0.2 | 8.8 | 1.0 | 0.0 | 0.0 | 31 | 2025-11-23 19:00:36 ~ 2025-11-23 19:01:06 |
| oltp_read_only | 16 | 72,489 | 4,531 | 3.53 | 5.47 | 0.2 | 13.4 | 1.5 | 0.0 | 0.0 | 31 | 2025-11-23 19:01:08 ~ 2025-11-23 19:01:38 |
| oltp_read_only | 32 | 76,153 | 4,760 | 6.72 | 9.39 | 0.2 | 14.7 | 1.6 | 0.0 | 0.0 | 31 | 2025-11-23 19:01:40 ~ 2025-11-23 19:02:10 |
| oltp_read_only | 64 | 75,745 | 4,734 | 13.52 | 17.01 | 0.3 | 14.7 | 1.7 | 0.0 | 0.0 | 31 | 2025-11-23 19:02:12 ~ 2025-11-23 19:02:42 |
| oltp_read_only | 128 | 74,513 | 4,657 | 27.48 | 31.94 | 0.3 | 14.6 | 1.7 | 0.0 | 0.0 | 31 | 2025-11-23 19:02:44 ~ 2025-11-23 19:03:14 |
| oltp_read_write | 1 | 11,375 | 569 | 1.76 | 1.89 | 0.0 | 1.6 | 0.5 | 0.0 | 2.1 | 31 | 2025-11-23 19:03:16 ~ 2025-11-23 19:03:46 |
| oltp_read_write | 8 | 58,118 | 2,906 | 2.75 | 3.96 | 0.2 | 10.3 | 1.7 | 0.0 | 3.0 | 32 | 2025-11-23 19:03:48 ~ 2025-11-23 19:04:19 |
| oltp_read_write | 16 | 69,645 | 3,482 | 4.59 | 7.43 | 0.2 | 13.4 | 1.9 | 0.0 | 3.5 | 31 | 2025-11-23 19:04:21 ~ 2025-11-23 19:04:51 |
| oltp_read_write | 32 | 71,619 | 3,581 | 8.93 | 13.95 | 0.3 | 14.1 | 2.0 | 0.0 | 3.8 | 31 | 2025-11-23 19:04:53 ~ 2025-11-23 19:05:23 |
| oltp_read_write | 64 | 72,613 | 3,631 | 17.62 | 32.53 | 0.3 | 14.2 | 1.9 | 0.0 | 3.8 | 31 | 2025-11-23 19:05:25 ~ 2025-11-23 19:05:55 |
| oltp_read_write | 128 | 72,912 | 3,646 | 35.09 | 75.82 | 0.3 | 14.3 | 1.9 | 0.0 | 3.5 | 31 | 2025-11-23 19:05:57 ~ 2025-11-23 19:06:27 |
| oltp_write_only | 1 | 20,554 | 3,426 | 0.29 | 0.38 | 0.0 | 1.9 | 1.0 | 0.0 | 3.5 | 31 | 2025-11-23 19:06:29 ~ 2025-11-23 19:06:59 |
| oltp_write_only | 8 | 84,693 | 14,115 | 0.57 | 0.83 | 0.3 | 9.2 | 3.0 | 0.1 | 9.1 | 31 | 2025-11-23 19:07:01 ~ 2025-11-23 19:07:31 |
| oltp_write_only | 16 | 104,302 | 17,384 | 0.92 | 1.52 | 0.4 | 11.2 | 3.3 | 0.0 | 10.1 | 31 | 2025-11-23 19:07:33 ~ 2025-11-23 19:08:03 |
| oltp_write_only | 32 | 114,258 | 19,043 | 1.68 | 3.19 | 0.4 | 11.8 | 3.1 | 0.0 | 10.9 | 31 | 2025-11-23 19:08:05 ~ 2025-11-23 19:08:35 |
| oltp_write_only | 64 | 116,587 | 19,431 | 3.29 | 7.43 | 0.5 | 12.0 | 3.0 | 0.0 | 9.3 | 31 | 2025-11-23 19:08:37 ~ 2025-11-23 19:09:07 |
| oltp_write_only | 128 | 127,103 | 21,184 | 6.04 | 14.21 | 0.5 | 12.3 | 3.2 | 0.0 | 8.7 | 31 | 2025-11-23 19:09:09 ~ 2025-11-23 19:09:39 |

## 2. idc.trx1

**测试时间**: 2025-11-23 19:34:12  
**测试工具**: sysbench + tsar (按时间段精确匹配)  
**tsar数据样本**: 2779 条记录  

### 测试配置信息

```
=== 测试配置信息 ===
MYSQL_HOST: 10.9.10.145
MYSQL_PORT: 3306
TABLES: 16
TABLE_SIZE: 1000000
TEST_TIME: 30
```

### MySQL配置参数

```
mysql: [Warning] Using a password on the command line interface can be insecure.
Variable_name	Value
innodb_buffer_pool_size	17179869184
innodb_flush_log_at_trx_commit	1
```

### 性能测试结果汇总 (含CPU/IO监控数据)

| 测试场景 | 并发数 | QPS | TPS | 平均延迟(ms) | 95%延迟(ms) | CPU利用率(%) | CPU用户(%) | CPU系统(%) | CPU等待(%) | IO利用率(%) | 监控样本数 | 测试时间段 |
|---------|--------|-----|-----|-------------|-------------|-------------|------------|------------|------------|-------------|------------|------------|
| oltp_point_select | 1 | 31,724 | 31,724 | 0.03 | 0.04 | 0.0 | 0.7 | 0.6 | 0.0 | 0.0 | 31 | 2025-11-23 19:21:22 ~ 2025-11-23 19:21:52 |
| oltp_point_select | 8 | 179,952 | 179,952 | 0.04 | 0.06 | 0.3 | 4.7 | 3.2 | 0.0 | 0.0 | 31 | 2025-11-23 19:21:54 ~ 2025-11-23 19:22:24 |
| oltp_point_select | 16 | 267,700 | 267,700 | 0.06 | 0.10 | 0.9 | 7.9 | 4.7 | 0.0 | 0.0 | 31 | 2025-11-23 19:22:26 ~ 2025-11-23 19:22:56 |
| oltp_point_select | 32 | 316,759 | 316,759 | 0.10 | 0.15 | 0.9 | 10.3 | 5.9 | 0.0 | 0.0 | 31 | 2025-11-23 19:22:58 ~ 2025-11-23 19:23:28 |
| oltp_point_select | 64 | 309,828 | 309,828 | 0.21 | 0.28 | 1.1 | 10.3 | 5.9 | 0.0 | 0.0 | 31 | 2025-11-23 19:23:30 ~ 2025-11-23 19:24:00 |
| oltp_point_select | 128 | 292,094 | 292,094 | 0.44 | 0.57 | 0.9 | 10.4 | 5.7 | 0.0 | 0.0 | 31 | 2025-11-23 19:24:02 ~ 2025-11-23 19:24:32 |
| oltp_read_only | 1 | 11,968 | 748 | 1.34 | 1.39 | 0.0 | 1.3 | 0.4 | 0.0 | 0.0 | 31 | 2025-11-23 19:24:34 ~ 2025-11-23 19:25:04 |
| oltp_read_only | 8 | 65,538 | 4,096 | 1.95 | 2.11 | 0.1 | 11.4 | 1.3 | 0.0 | 0.0 | 31 | 2025-11-23 19:25:06 ~ 2025-11-23 19:25:36 |
| oltp_read_only | 16 | 72,806 | 4,550 | 3.52 | 6.21 | 0.3 | 13.5 | 1.5 | 0.0 | 0.0 | 31 | 2025-11-23 19:25:38 ~ 2025-11-23 19:26:08 |
| oltp_read_only | 32 | 76,307 | 4,769 | 6.71 | 9.56 | 0.2 | 14.7 | 1.6 | 0.0 | 0.0 | 31 | 2025-11-23 19:26:10 ~ 2025-11-23 19:26:40 |
| oltp_read_only | 64 | 75,602 | 4,725 | 13.54 | 17.95 | 0.3 | 14.7 | 1.6 | 0.0 | 0.0 | 31 | 2025-11-23 19:26:42 ~ 2025-11-23 19:27:12 |
| oltp_read_only | 128 | 74,492 | 4,656 | 27.48 | 32.53 | 0.3 | 14.7 | 1.7 | 0.0 | 0.0 | 31 | 2025-11-23 19:27:14 ~ 2025-11-23 19:27:44 |
| oltp_read_write | 1 | 10,732 | 537 | 1.86 | 2.14 | 0.0 | 1.6 | 0.6 | 0.0 | 4.8 | 31 | 2025-11-23 19:27:46 ~ 2025-11-23 19:28:16 |
| oltp_read_write | 8 | 53,384 | 2,669 | 3.00 | 4.57 | 0.2 | 9.4 | 1.6 | 0.1 | 8.1 | 31 | 2025-11-23 19:28:18 ~ 2025-11-23 19:28:48 |
| oltp_read_write | 16 | 67,471 | 3,374 | 4.74 | 7.30 | 0.2 | 12.7 | 2.1 | 0.0 | 8.0 | 31 | 2025-11-23 19:28:51 ~ 2025-11-23 19:29:21 |
| oltp_read_write | 32 | 70,276 | 3,514 | 9.10 | 14.46 | 0.3 | 13.6 | 2.0 | 0.0 | 6.4 | 31 | 2025-11-23 19:29:23 ~ 2025-11-23 19:29:53 |
| oltp_read_write | 64 | 71,557 | 3,578 | 17.88 | 30.81 | 0.2 | 13.7 | 2.0 | 0.0 | 5.7 | 31 | 2025-11-23 19:29:55 ~ 2025-11-23 19:30:25 |
| oltp_read_write | 128 | 72,859 | 3,643 | 35.12 | 68.05 | 0.3 | 14.1 | 1.9 | 0.0 | 4.3 | 31 | 2025-11-23 19:30:27 ~ 2025-11-23 19:30:57 |
| oltp_write_only | 1 | 16,400 | 2,733 | 0.37 | 0.47 | 0.0 | 1.7 | 1.0 | 0.1 | 6.5 | 31 | 2025-11-23 19:30:59 ~ 2025-11-23 19:31:29 |
| oltp_write_only | 8 | 70,079 | 11,680 | 0.68 | 0.99 | 0.2 | 7.6 | 3.0 | 0.1 | 20.0 | 31 | 2025-11-23 19:31:31 ~ 2025-11-23 19:32:01 |
| oltp_write_only | 16 | 90,852 | 15,142 | 1.06 | 1.64 | 0.3 | 10.3 | 3.4 | 0.1 | 17.6 | 31 | 2025-11-23 19:32:03 ~ 2025-11-23 19:32:33 |
| oltp_write_only | 32 | 104,365 | 17,394 | 1.84 | 3.19 | 0.3 | 11.0 | 3.3 | 0.1 | 15.8 | 31 | 2025-11-23 19:32:35 ~ 2025-11-23 19:33:05 |
| oltp_write_only | 64 | 110,127 | 18,355 | 3.49 | 6.91 | 0.5 | 11.7 | 3.0 | 0.0 | 13.4 | 31 | 2025-11-23 19:33:07 ~ 2025-11-23 19:33:37 |
| oltp_write_only | 128 | 119,528 | 19,921 | 6.42 | 13.22 | 0.4 | 12.2 | 3.2 | 0.0 | 11.6 | 31 | 2025-11-23 19:33:39 ~ 2025-11-23 19:34:09 |

## 3. huawei

**测试时间**: 2025-11-23 18:35:21  
**测试工具**: sysbench + tsar (按时间段精确匹配)  
**tsar数据样本**: 3627 条记录  

### 测试配置信息

```
=== 测试配置信息 ===
MYSQL_HOST: 10.16.104.124
MYSQL_PORT: 3306
TABLES: 16
TABLE_SIZE: 1000000
TEST_TIME: 30
```

### MySQL配置参数

```
mysql: [Warning] Using a password on the command line interface can be insecure.
Variable_name	Value
innodb_buffer_pool_size	17179869184
innodb_flush_log_at_trx_commit	2
```

### 性能测试结果汇总 (含CPU/IO监控数据)

| 测试场景 | 并发数 | QPS | TPS | 平均延迟(ms) | 95%延迟(ms) | CPU利用率(%) | CPU用户(%) | CPU系统(%) | CPU等待(%) | IO利用率(%) | 监控样本数 | 测试时间段 |
|---------|--------|-----|-----|-------------|-------------|-------------|------------|------------|------------|-------------|------------|------------|
| oltp_point_select | 1 | 6,325 | 6,325 | 0.16 | 0.17 | 0.0 | 0.2 | 0.1 | 0.0 | 0.4 | 31 | 2025-11-23 18:22:31 ~ 2025-11-23 18:23:01 |
| oltp_point_select | 8 | 48,915 | 48,915 | 0.16 | 0.18 | 0.0 | 1.6 | 0.7 | 0.0 | 2.6 | 31 | 2025-11-23 18:23:03 ~ 2025-11-23 18:23:33 |
| oltp_point_select | 16 | 92,401 | 92,401 | 0.17 | 0.19 | 0.2 | 3.6 | 1.5 | 0.0 | 3.7 | 31 | 2025-11-23 18:23:35 ~ 2025-11-23 18:24:05 |
| oltp_point_select | 32 | 169,064 | 169,064 | 0.19 | 0.25 | 0.4 | 6.9 | 2.6 | 0.0 | 4.4 | 31 | 2025-11-23 18:24:07 ~ 2025-11-23 18:24:37 |
| oltp_point_select | 64 | 196,844 | 196,844 | 0.32 | 0.46 | 0.6 | 8.5 | 3.1 | 0.0 | 3.6 | 31 | 2025-11-23 18:24:39 ~ 2025-11-23 18:25:09 |
| oltp_point_select | 128 | 194,084 | 194,084 | 0.66 | 0.87 | 0.5 | 8.5 | 3.2 | 0.0 | 2.6 | 31 | 2025-11-23 18:25:11 ~ 2025-11-23 18:25:41 |
| oltp_read_only | 1 | 4,506 | 282 | 3.55 | 3.62 | 0.0 | 0.5 | 0.1 | 0.0 | 0.1 | 31 | 2025-11-23 18:25:43 ~ 2025-11-23 18:26:13 |
| oltp_read_only | 8 | 30,721 | 1,920 | 4.17 | 5.00 | 0.0 | 5.1 | 0.5 | 0.0 | 0.4 | 31 | 2025-11-23 18:26:15 ~ 2025-11-23 18:26:45 |
| oltp_read_only | 16 | 43,262 | 2,704 | 5.92 | 8.13 | 0.1 | 7.8 | 0.7 | 0.0 | 0.5 | 31 | 2025-11-23 18:26:47 ~ 2025-11-23 18:27:17 |
| oltp_read_only | 32 | 49,938 | 3,121 | 10.25 | 13.70 | 0.2 | 10.2 | 0.8 | 0.0 | 0.6 | 31 | 2025-11-23 18:27:19 ~ 2025-11-23 18:27:49 |
| oltp_read_only | 64 | 52,035 | 3,252 | 19.67 | 28.16 | 0.1 | 11.0 | 0.9 | 0.0 | 0.6 | 31 | 2025-11-23 18:27:51 ~ 2025-11-23 18:28:21 |
| oltp_read_only | 128 | 51,297 | 3,206 | 39.91 | 46.63 | 0.2 | 10.9 | 0.8 | 0.0 | 0.6 | 31 | 2025-11-23 18:28:23 ~ 2025-11-23 18:28:53 |
| oltp_read_write | 1 | 4,579 | 229 | 4.37 | 5.57 | 0.0 | 0.5 | 0.1 | 0.0 | 3.4 | 31 | 2025-11-23 18:28:55 ~ 2025-11-23 18:29:25 |
| oltp_read_write | 8 | 29,577 | 1,479 | 5.41 | 6.91 | 0.0 | 4.4 | 0.5 | 0.2 | 26.4 | 31 | 2025-11-23 18:29:27 ~ 2025-11-23 18:29:57 |
| oltp_read_write | 16 | 43,944 | 2,197 | 7.28 | 10.09 | 0.1 | 7.3 | 0.9 | 0.2 | 34.7 | 31 | 2025-11-23 18:29:59 ~ 2025-11-23 18:30:29 |
| oltp_read_write | 32 | 52,356 | 2,618 | 12.22 | 18.28 | 0.3 | 9.7 | 1.0 | 0.2 | 36.8 | 32 | 2025-11-23 18:30:31 ~ 2025-11-23 18:31:02 |
| oltp_read_write | 64 | 53,673 | 2,684 | 23.84 | 43.39 | 0.4 | 10.6 | 1.0 | 0.2 | 37.9 | 31 | 2025-11-23 18:31:04 ~ 2025-11-23 18:31:34 |
| oltp_read_write | 128 | 53,812 | 2,691 | 47.54 | 97.55 | 0.4 | 10.6 | 1.0 | 0.1 | 30.1 | 31 | 2025-11-23 18:31:36 ~ 2025-11-23 18:32:06 |
| oltp_write_only | 1 | 5,311 | 885 | 1.13 | 2.22 | 0.0 | 0.3 | 0.2 | 0.1 | 22.2 | 31 | 2025-11-23 18:32:08 ~ 2025-11-23 18:32:38 |
| oltp_write_only | 8 | 31,989 | 5,331 | 1.50 | 2.76 | 0.0 | 2.7 | 0.8 | 0.3 | 54.4 | 31 | 2025-11-23 18:32:40 ~ 2025-11-23 18:33:10 |
| oltp_write_only | 16 | 52,829 | 8,805 | 1.82 | 3.19 | 0.1 | 4.7 | 1.3 | 0.3 | 60.8 | 31 | 2025-11-23 18:33:12 ~ 2025-11-23 18:33:42 |
| oltp_write_only | 32 | 75,873 | 12,645 | 2.53 | 4.57 | 0.2 | 6.9 | 1.7 | 0.3 | 63.1 | 31 | 2025-11-23 18:33:44 ~ 2025-11-23 18:34:14 |
| oltp_write_only | 64 | 92,591 | 15,432 | 4.15 | 7.43 | 0.3 | 8.4 | 1.8 | 0.3 | 66.1 | 31 | 2025-11-23 18:34:16 ~ 2025-11-23 18:34:46 |
| oltp_write_only | 128 | 100,583 | 16,764 | 7.63 | 15.83 | 0.3 | 9.1 | 1.9 | 0.3 | 61.0 | 31 | 2025-11-23 18:34:48 ~ 2025-11-23 18:35:18 |

## 4. aliyun

**测试时间**: 2025-11-23 08:12:21  
**测试工具**: sysbench + tsar (按时间段精确匹配)  
**tsar数据样本**: 811 条记录  

### 测试配置信息

```
=== 测试配置信息 ===
MYSQL_HOST: 10.127.33.154
MYSQL_PORT: 3316
TABLES: 16
TABLE_SIZE: 10000000
TEST_TIME: 30
```

### MySQL配置参数

```
mysql: [Warning] Using a password on the command line interface can be insecure.
Variable_name	Value
innodb_buffer_pool_size	17179869184
innodb_flush_log_at_trx_commit	2
```

### 性能测试结果汇总 (含CPU/IO监控数据)

| 测试场景 | 并发数 | QPS | TPS | 平均延迟(ms) | 95%延迟(ms) | CPU利用率(%) | CPU用户(%) | CPU系统(%) | CPU等待(%) | IO利用率(%) | 监控样本数 | 测试时间段 |
|---------|--------|-----|-----|-------------|-------------|-------------|------------|------------|------------|-------------|------------|------------|
| oltp_point_select | 1 | 15,750 | 15,750 | 0.06 | 0.07 | 0.5 | 1.7 | 1.0 | 0.8 | 22.6 | 31 | 2025-11-23 07:59:31 ~ 2025-11-23 08:00:01 |
| oltp_point_select | 8 | 109,914 | 109,914 | 0.07 | 0.08 | 4.6 | 14.8 | 7.5 | 4.6 | 77.7 | 31 | 2025-11-23 08:00:03 ~ 2025-11-23 08:00:33 |
| oltp_point_select | 16 | 196,497 | 196,497 | 0.08 | 0.10 | 9.2 | 32.1 | 17.0 | 3.7 | 90.2 | 31 | 2025-11-23 08:00:35 ~ 2025-11-23 08:01:05 |
| oltp_point_select | 32 | 301,160 | 301,160 | 0.11 | 0.16 | 13.4 | 46.4 | 30.8 | 0.8 | 94.7 | 31 | 2025-11-23 08:01:07 ~ 2025-11-23 08:01:37 |
| oltp_point_select | 64 | 328,098 | 328,098 | 0.19 | 0.29 | 13.6 | 48.1 | 33.6 | 0.0 | 90.5 | 31 | 2025-11-23 08:01:39 ~ 2025-11-23 08:02:09 |
| oltp_point_select | 128 | 309,373 | 309,373 | 0.41 | 0.59 | 13.3 | 48.2 | 33.8 | 0.0 | 81.9 | 31 | 2025-11-23 08:02:11 ~ 2025-11-23 08:02:41 |
| oltp_read_only | 1 | 9,389 | 587 | 1.70 | 2.03 | 0.3 | 6.0 | 0.7 | 0.2 | 5.2 | 31 | 2025-11-23 08:02:43 ~ 2025-11-23 08:03:13 |
| oltp_read_only | 8 | 60,278 | 3,767 | 2.12 | 2.43 | 2.7 | 50.3 | 5.4 | 1.1 | 27.4 | 31 | 2025-11-23 08:03:15 ~ 2025-11-23 08:03:45 |
| oltp_read_only | 16 | 76,662 | 4,791 | 3.34 | 4.57 | 4.0 | 71.2 | 8.8 | 0.4 | 31.7 | 31 | 2025-11-23 08:03:47 ~ 2025-11-23 08:04:17 |
| oltp_read_only | 32 | 84,123 | 5,258 | 6.08 | 8.58 | 4.0 | 80.6 | 9.8 | 0.1 | 33.2 | 31 | 2025-11-23 08:04:19 ~ 2025-11-23 08:04:49 |
| oltp_read_only | 64 | 85,224 | 5,326 | 12.01 | 15.55 | 3.9 | 81.8 | 10.5 | 0.0 | 30.8 | 31 | 2025-11-23 08:04:51 ~ 2025-11-23 08:05:21 |
| oltp_read_only | 128 | 85,054 | 5,316 | 24.07 | 26.68 | 3.8 | 81.6 | 10.4 | 0.0 | 29.0 | 31 | 2025-11-23 08:05:23 ~ 2025-11-23 08:05:53 |
| oltp_read_write | 1 | 7,952 | 398 | 2.51 | 3.30 | 0.4 | 6.9 | 2.6 | 2.6 | 73.0 | 31 | 2025-11-23 08:05:55 ~ 2025-11-23 08:06:25 |
| oltp_read_write | 8 | 51,194 | 2,560 | 3.12 | 4.10 | 3.0 | 48.6 | 10.3 | 5.2 | 94.7 | 31 | 2025-11-23 08:06:27 ~ 2025-11-23 08:06:57 |
| oltp_read_write | 16 | 71,761 | 3,588 | 4.46 | 6.32 | 4.1 | 67.2 | 11.6 | 1.6 | 85.0 | 32 | 2025-11-23 08:06:59 ~ 2025-11-23 08:07:30 |
| oltp_read_write | 32 | 81,858 | 4,093 | 7.82 | 11.65 | 4.2 | 77.9 | 11.9 | 0.4 | 83.9 | 31 | 2025-11-23 08:07:32 ~ 2025-11-23 08:08:02 |
| oltp_read_write | 64 | 83,569 | 4,178 | 15.31 | 29.72 | 4.2 | 78.7 | 12.1 | 0.2 | 83.7 | 31 | 2025-11-23 08:08:04 ~ 2025-11-23 08:08:34 |
| oltp_read_write | 128 | 82,403 | 4,120 | 31.04 | 86.00 | 4.3 | 77.6 | 12.8 | 0.2 | 81.8 | 31 | 2025-11-23 08:08:36 ~ 2025-11-23 08:09:06 |
| oltp_write_only | 1 | 12,484 | 2,081 | 0.48 | 0.99 | 0.5 | 5.7 | 2.2 | 1.8 | 33.3 | 31 | 2025-11-23 08:09:08 ~ 2025-11-23 08:09:38 |
| oltp_write_only | 8 | 61,401 | 10,233 | 0.78 | 1.37 | 3.3 | 33.1 | 11.4 | 4.6 | 78.9 | 31 | 2025-11-23 08:09:40 ~ 2025-11-23 08:10:10 |
| oltp_write_only | 16 | 90,134 | 15,022 | 1.06 | 1.70 | 5.0 | 47.3 | 15.9 | 3.8 | 83.7 | 31 | 2025-11-23 08:10:12 ~ 2025-11-23 08:10:42 |
| oltp_write_only | 32 | 101,548 | 16,925 | 1.89 | 2.86 | 5.6 | 50.4 | 17.0 | 3.2 | 88.5 | 31 | 2025-11-23 08:10:44 ~ 2025-11-23 08:11:14 |
| oltp_write_only | 64 | 110,923 | 18,487 | 3.46 | 7.17 | 5.8 | 52.8 | 17.6 | 2.4 | 86.8 | 32 | 2025-11-23 08:11:16 ~ 2025-11-23 08:11:47 |
| oltp_write_only | 128 | 121,385 | 20,231 | 6.32 | 23.95 | 6.5 | 58.8 | 18.9 | 2.0 | 85.4 | 31 | 2025-11-23 08:11:49 ~ 2025-11-23 08:12:19 |

## 5. aliyun.trx1

**测试时间**: 2025-11-23 19:39:56  
**测试工具**: sysbench + tsar (按时间段精确匹配)  
**tsar数据样本**: 791 条记录  

### 测试配置信息

```
=== 测试配置信息 ===
MYSQL_HOST: 10.127.33.154
MYSQL_PORT: 3316
TABLES: 16
TABLE_SIZE: 10000000
TEST_TIME: 30
```

### MySQL配置参数

```
mysql: [Warning] Using a password on the command line interface can be insecure.
Variable_name	Value
innodb_buffer_pool_size	17179869184
innodb_flush_log_at_trx_commit	1
```

### 性能测试结果汇总 (含CPU/IO监控数据)

| 测试场景 | 并发数 | QPS | TPS | 平均延迟(ms) | 95%延迟(ms) | CPU利用率(%) | CPU用户(%) | CPU系统(%) | CPU等待(%) | IO利用率(%) | 监控样本数 | 测试时间段 |
|---------|--------|-----|-----|-------------|-------------|-------------|------------|------------|------------|-------------|------------|------------|
| oltp_point_select | 1 | 15,625 | 15,625 | 0.06 | 0.07 | 0.5 | 1.8 | 0.9 | 0.8 | 22.3 | 31 | 2025-11-23 19:27:06 ~ 2025-11-23 19:27:36 |
| oltp_point_select | 8 | 113,189 | 113,189 | 0.07 | 0.08 | 4.7 | 15.6 | 7.6 | 4.7 | 78.1 | 31 | 2025-11-23 19:27:38 ~ 2025-11-23 19:28:08 |
| oltp_point_select | 16 | 195,783 | 195,783 | 0.08 | 0.10 | 9.1 | 31.9 | 16.4 | 3.9 | 90.4 | 31 | 2025-11-23 19:28:10 ~ 2025-11-23 19:28:40 |
| oltp_point_select | 32 | 302,140 | 302,140 | 0.11 | 0.16 | 13.1 | 46.5 | 30.2 | 0.8 | 93.8 | 31 | 2025-11-23 19:28:42 ~ 2025-11-23 19:29:12 |
| oltp_point_select | 64 | 326,549 | 326,549 | 0.20 | 0.29 | 13.6 | 47.2 | 33.4 | 0.0 | 90.1 | 31 | 2025-11-23 19:29:14 ~ 2025-11-23 19:29:44 |
| oltp_point_select | 128 | 310,429 | 310,429 | 0.41 | 0.58 | 13.2 | 47.4 | 33.5 | 0.0 | 81.1 | 31 | 2025-11-23 19:29:46 ~ 2025-11-23 19:30:16 |
| oltp_read_only | 1 | 9,311 | 582 | 1.72 | 2.03 | 0.3 | 5.6 | 0.6 | 0.2 | 5.0 | 31 | 2025-11-23 19:30:18 ~ 2025-11-23 19:30:48 |
| oltp_read_only | 8 | 59,695 | 3,731 | 2.14 | 2.43 | 2.7 | 48.4 | 5.5 | 1.1 | 27.2 | 31 | 2025-11-23 19:30:50 ~ 2025-11-23 19:31:20 |
| oltp_read_only | 16 | 76,820 | 4,801 | 3.33 | 4.57 | 3.9 | 70.1 | 8.5 | 0.4 | 31.7 | 31 | 2025-11-23 19:31:22 ~ 2025-11-23 19:31:52 |
| oltp_read_only | 32 | 84,023 | 5,251 | 6.09 | 8.58 | 3.9 | 79.1 | 9.6 | 0.1 | 31.6 | 31 | 2025-11-23 19:31:54 ~ 2025-11-23 19:32:24 |
| oltp_read_only | 64 | 85,283 | 5,330 | 12.00 | 15.55 | 3.9 | 80.2 | 10.3 | 0.0 | 31.0 | 31 | 2025-11-23 19:32:26 ~ 2025-11-23 19:32:56 |
| oltp_read_only | 128 | 85,127 | 5,320 | 24.05 | 27.17 | 3.7 | 79.4 | 10.1 | 0.0 | 28.7 | 32 | 2025-11-23 19:32:58 ~ 2025-11-23 19:33:29 |
| oltp_read_write | 1 | 6,868 | 343 | 2.91 | 3.68 | 0.4 | 5.8 | 2.2 | 3.9 | 78.4 | 31 | 2025-11-23 19:33:31 ~ 2025-11-23 19:34:01 |
| oltp_read_write | 8 | 44,801 | 2,240 | 3.57 | 4.65 | 2.7 | 43.5 | 9.2 | 8.5 | 96.9 | 31 | 2025-11-23 19:34:03 ~ 2025-11-23 19:34:33 |
| oltp_read_write | 16 | 66,062 | 3,303 | 4.84 | 6.55 | 4.1 | 62.1 | 11.4 | 3.7 | 96.5 | 31 | 2025-11-23 19:34:35 ~ 2025-11-23 19:35:05 |
| oltp_read_write | 32 | 78,590 | 3,930 | 8.14 | 11.45 | 4.4 | 73.3 | 12.1 | 1.3 | 94.8 | 31 | 2025-11-23 19:35:07 ~ 2025-11-23 19:35:37 |
| oltp_read_write | 64 | 83,049 | 4,152 | 15.41 | 25.28 | 4.3 | 76.3 | 12.0 | 0.5 | 89.1 | 31 | 2025-11-23 19:35:39 ~ 2025-11-23 19:36:09 |
| oltp_read_write | 128 | 84,131 | 4,207 | 30.41 | 94.10 | 4.2 | 75.7 | 11.9 | 0.4 | 83.4 | 31 | 2025-11-23 19:36:11 ~ 2025-11-23 19:36:41 |
| oltp_write_only | 1 | 6,909 | 1,152 | 0.87 | 1.37 | 0.4 | 4.0 | 1.7 | 5.7 | 94.9 | 32 | 2025-11-23 19:36:43 ~ 2025-11-23 19:37:14 |
| oltp_write_only | 8 | 38,470 | 6,412 | 1.25 | 1.93 | 2.0 | 22.2 | 7.5 | 7.8 | 97.7 | 31 | 2025-11-23 19:37:16 ~ 2025-11-23 19:37:46 |
| oltp_write_only | 16 | 57,604 | 9,601 | 1.67 | 2.43 | 3.2 | 28.4 | 10.1 | 7.1 | 97.6 | 31 | 2025-11-23 19:37:48 ~ 2025-11-23 19:38:18 |
| oltp_write_only | 32 | 88,163 | 14,694 | 2.18 | 3.13 | 5.1 | 41.1 | 14.4 | 4.7 | 97.6 | 31 | 2025-11-23 19:38:20 ~ 2025-11-23 19:38:50 |
| oltp_write_only | 64 | 112,561 | 18,760 | 3.41 | 4.74 | 6.1 | 52.3 | 17.9 | 2.5 | 97.3 | 31 | 2025-11-23 19:38:52 ~ 2025-11-23 19:39:22 |
| oltp_write_only | 128 | 105,554 | 17,592 | 7.27 | 9.22 | 5.6 | 49.4 | 16.8 | 2.3 | 94.8 | 31 | 2025-11-23 19:39:24 ~ 2025-11-23 19:39:54 |

## 监控数据说明

| 报告列名 | tsar对应列 | 说明 |
|---------|-----------|------|
| CPU利用率(%) | util | 总体CPU使用率 |
| CPU用户(%) | user | 用户态CPU使用率 |
| CPU系统(%) | sys | 内核态CPU使用率 |
| CPU等待(%) | wait | IO等待时间占用的CPU |
| IO利用率(%) | util (IO部分) | 磁盘IO使用率 |

## 测试结果分析

### 性能指标
- **QPS (Queries Per Second)**: 每秒查询数，衡量数据库处理查询的能力
- **TPS (Transactions Per Second)**: 每秒事务数，与QPS在点查询场景下相等
- **延迟 (Latency)**: 查询响应时间，包括平均延迟和95%分位延迟

### 系统监控指标
- **CPU利用率**: 总体CPU使用率
- **CPU用户**: 用户态CPU使用率
- **CPU系统**: 内核态CPU使用率  
- **CPU等待**: IO等待时间占用的CPU
- **IO利用率**: 磁盘IO使用率

### 关键发现
1. **性能扩展性**: 从低并发到高并发的性能扩展情况
2. **资源利用**: CPU和IO资源的使用效率
3. **延迟控制**: 高并发下的延迟表现
4. **瓶颈分析**: 系统瓶颈点识别

## 说明

- CPU/IO数据来源于tsar监控日志，按测试时间段精确匹配并计算平均值
- 监控样本数表示该测试时间段内tsar记录的数据点数量
- 系统监控数据与性能数据时间精确对应，确保数据准确性
- 测试使用sysbench工具，针对MySQL数据库进行标准化性能测试

---
*报告生成时间: 2025-11-24 08:06:09*
